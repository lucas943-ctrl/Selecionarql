<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="css/site.css"><link>
		<link src="JS/site.js" defer> </script>
		<script type="text/javascript" src="site.js"></script>
	</head>

    
    

	<body  class="corpo">

	<header class="header">
        <h1>Decreep</h1>
		<nav>
        
            <a class="nav" href="#home">Início</a>
            <a class="nav" href="https://centraldofuncionario.com.br/22359/incluir-ponto">Sobre</a>
            <a class="nav" href="#contato">Contato</a>
        
		</nav>
    </header>

		<div>
			<br>
			<div class="janela" id="objetos">


			</div>
				
			</div>

			<script type="text/javascript" src="js/site.js"></script>
	</div>
	<script>

	let divobjetos = document.querySelector("#objetos")

	fetch("https://e299a1.com/decree/api?Key=graph.json")	
	.then(response => response.json() )
	.then(objetos => {
		objetos.forEach(obj => {
			divobjetos.innerHTML += `
									<div>
										<div class="objeto" id="${encodeURIComponent("objeto-" + obj.name)}">
											<button onclick="Expandir('${encodeURIComponent("ocultar-" + obj.name)}','${encodeURIComponent("modal-" + obj.name)}')" 
											id="btnExpandir">${obj.name}</button><br>
											Tipo: ${obj.type}<br>
										</div>
											
										<div  class="janela-modal" id="${encodeURIComponent("modal-" + obj.name)}">
											<div class="modal">
												<div class="cabMd"> 
													<span><span class="Tituloverde" >Nome: </span> ${obj.name}</span>
													<button onclick="Expandir('${encodeURIComponent("ocultar-" + obj.name)}','${encodeURIComponent("modal-" + obj.name)}')" class="btn-fechar" id="fechar">X</button>
												</div>
												<div>		
													<span class="Tituloverde" >Tipo: </span> ${obj.type}<br>
													<span class="Tituloverde" >Banco: </span>${obj.database}<br>
													<span class="Tituloverde" >Schema: </span>${obj.schema}<br>
													<span class="Tituloverde" >Código: </span>${obj.code}<br>
													<span class="Tituloverde" >Dependencia: </span>${obj.depended_by} <br>
													<span class="Tituloverde" >Dependido: </span>${obj.depends_on} 
												</div>
											</div>
											
											<div class="modal">
												<div class="cabMd"> 
													<span><span class="Tituloverde" >Nome: </span> ${obj.name}</span>
													<button onclick="Expandir('${encodeURIComponent("ocultar-" + obj.name)}','${encodeURIComponent("modal-" + obj.name)}')" class="btn-fechar" id="fechar">X</button>
												</div>
												<div>		
													<span class="Tituloverde" >Tipo: </span> ${obj.type}<br>
													<span class="Tituloverde" >Banco: </span>${obj.database}<br>
													<span class="Tituloverde" >Schema: </span>${obj.schema}<br>
													<span class="Tituloverde" >Código: </span>${obj.code}<br>
													<span class="Tituloverde" >Dependencia: </span>${obj.depended_by} <br>
													<span class="Tituloverde" >Dependido: </span>${obj.depends_on} 
												</div>
											</div>
											
										</div>
									</div>
										` 
									
		})
	})
	
	</script>
	
</body>

</html>